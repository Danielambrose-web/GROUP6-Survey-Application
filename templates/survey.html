<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GROUP6 SURVEYS | Create Survey</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navbar -->

    <header>
        <nav>
            <ul class="sideBar">
                <li onclick="hideSidebar()"><img src="/static/close_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24.png" alt=""></li>
                <li><a href="{{ url_for('home') }}">HOME</a></li>
                <li><a href="{{ url_for('survey_selection') }}">CREATE SURVEY</a></li>
                <li><a href="{{ url_for('list_surveys') }}">All SURVEY</a></li>
            </ul>
            <div class="logo">
                <H1>GROUP SURVEY APP</H1>
            </div>
            <ul>
                <li class = "menu-btn"><a href="{{ url_for('home') }}">HOME</a></li>
                <li class = "menu-btn"><a href="{{ url_for('survey_selection') }}">CREATE SURVEY</a></li>
                <li class = "menu-btn"><a href="{{ url_for('list_surveys') }}">ALL SURVEY</a></li>
                <li class="toggle active" onclick="showSidebar()"><img src="/static/menu_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24.png" alt=""></li>
            </ul>
        </nav>
    </header>
    <!-- <header class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="nav-icon"><i class="fas fa-poll"></i></span>
                GROUP6 SURVEY APP
            </div> -->
            <!-- Mobile toggle button -->
            <!-- <button class="nav-toggle" id="nav-toggle">
                &#9776;
            </button> -->
            <!-- Nav links -->
            <!-- <nav class="nav-links" id="nav-links">
                <a href="{{ url_for('home') }}" class="nav-link">Home</a>
                <a href="{{ url_for('survey_selection') }}" class="nav-link">Create Survey</a>
                <a href="{{ url_for('list_surveys') }}" class="nav-link">All Surveys</a>
            </nav> -->
            <!-- Mobile dropdown menu -->
            <!-- <div class="mobile-dropdown" id="mobile-dropdown">
                <a href="{{ url_for('home') }}" class="dropdown-link">Home</a>
                <a href="{{ url_for('survey_selection') }}" class="dropdown-link">Create Survey</a>
                <a href="{{ url_for('list_surveys') }}" class="dropdown-link">All Surveys</a>
            </div>
        </div>
    </header> -->

    <!-- Main Content -->
    <main class="main-content">
        <section class="survey-section">
            <div class="survey-container">
                <!-- Survey Header -->
                <div class="survey-header">
                    <h1 class="survey-page-title"><i class="fas fa-plus-circle"></i> CREATE NEW SURVEY</h1>
                </div>

                <!-- Simple Survey Form -->
                <form method="POST" action="{{ url_for('create_survey') }}" class="survey-form">
                    <!-- Survey Title -->
                    <div class="form-group">
                        <label for="survey-title" class="form-label">Survey Title <span class="required">*</span></label>
                        <input type="text" id="survey-title" name="survey_title" class="form-input" required>
                    </div>

                    <!-- Survey Description -->
                    <div class="form-group">
                        <label for="survey-description" class="form-label">Survey Description</label>
                        <textarea id="survey-description" name="survey_description" class="form-textarea"
                                  placeholder="Brief description of your survey..." rows="4"></textarea>
                    </div>

                    <!-- Questions Section -->
                    <div class="questions-section">
                        <h3 class="section-title">Questions</h3>
                        <div id="questions-container">
                            <!-- Question 1 - Always visible -->
                            <div class="question-block" id="question-1">
                                <div class="question-header">
                                    <span class="question-number">Question 1</span>
                                </div>
                                <div class="form-group">
                                    <label for="question-text-1" class="form-label">Question Text <span class="required">*</span></label>
                                    <input type="text" id="question-text-1" name="question_text_1" class="form-input" required>
                                </div>
                                <div class="question-settings">
                                    <div class="form-group">
                                        <label for="question-type-1" class="form-label">Question Type</label>
                                        <select id="question-type-1" name="question_type_1" class="form-select" onchange="toggleCheckboxOptions(1)">
                                            <option value="text">Text Response</option>
                                            <!-- <option value="multiple-choice">Multiple Choice</option> -->
                                            <option value="checkbox">Checkbox with Options</option>
                                            <option value="rating">Rating Scale (1-5)</option>
                                        </select>
                                    </div>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="required-1" name="required_1" class="form-checkbox">
                                        <label for="required-1" class="checkbox-label">Required</label>
                                    </div>
                                </div>
                                
                                <!-- Checkbox Options (hidden by default) -->
                                <div id="checkbox-options-1" class="checkbox-options" style="display: none;">
                                    <label class="form-label">Checkbox Options (one per line)</label>
                                    <textarea name="checkbox_options_1" class="form-textarea" rows="4" placeholder="Option 1&#10;Option 2&#10;Option 3&#10;Option 4"></textarea>
                                </div>
                            </div>

                            <!-- Hidden question templates -->
                            <div class="question-block" id="question-2" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">Question 2</span>
                                    <button type="button" class="remove-btn" onclick="removeQuestion(2)"><i class="fas fa-trash"></i> Remove</button>
                                </div>
                                <div class="form-group">
                                    <label for="question-text-2" class="form-label">Question Text <span class="required">*</span></label>
                                    <input type="text" id="question-text-2" name="question_text_2" class="form-input">
                                </div>
                                <div class="question-settings">
                                    <div class="form-group">
                                        <label for="question-type-2" class="form-label">Question Type</label>
                                        <select id="question-type-2" name="question_type_2" class="form-select" onchange="toggleCheckboxOptions(2)">
                                            <option value="text">Text Response</option>
                                            <!-- <option value="multiple-choice">Multiple Choice</option> -->
                                            <option value="checkbox">Checkbox with Options</option>
                                            <option value="rating">Rating Scale (1-5)</option>
                                        </select>
                                    </div>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="required-2" name="required_2" class="form-checkbox">
                                        <label for="required-2" class="checkbox-label">Required</label>
                                    </div>
                                </div>
                                <div id="checkbox-options-2" class="checkbox-options" style="display: none;">
                                    <label class="form-label">Checkbox Options (one per line)</label>
                                    <textarea name="checkbox_options_2" class="form-textarea" rows="4" placeholder="Option 1&#10;Option 2&#10;Option 3&#10;Option 4"></textarea>
                                </div>
                            </div>

                            <div class="question-block" id="question-3" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">Question 3</span>
                                    <button type="button" class="remove-btn" onclick="removeQuestion(3)"><i class="fas fa-trash"></i> Remove</button>
                                </div>
                                <div class="form-group">
                                    <label for="question-text-3" class="form-label">Question Text <span class="required">*</span></label>
                                    <input type="text" id="question-text-3" name="question_text_3" class="form-input">
                                </div>
                                <div class="question-settings">
                                    <div class="form-group">
                                        <label for="question-type-3" class="form-label">Question Type</label>
                                        <select id="question-type-3" name="question_type_3" class="form-select" onchange="toggleCheckboxOptions(3)">
                                            <option value="text">Text Response</option>
                                            <!-- <option value="multiple-choice">Multiple Choice</option> -->
                                            <option value="checkbox">Checkbox with Options</option>
                                            <option value="rating">Rating Scale (1-5)</option>
                                        </select>
                                    </div>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="required-3" name="required_3" class="form-checkbox">
                                        <label for="required-3" class="checkbox-label">Required</label>
                                    </div>
                                </div>
                                <div id="checkbox-options-3" class="checkbox-options" style="display: none;">
                                    <label class="form-label">Checkbox Options (one per line)</label>
                                    <textarea name="checkbox_options_3" class="form-textarea" rows="4" placeholder="Option 1&#10;Option 2&#10;Option 3&#10;Option 4"></textarea>
                                </div>
                            </div>

                            <div class="question-block" id="question-4" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">Question 4</span>
                                    <button type="button" class="remove-btn" onclick="removeQuestion(4)"><i class="fas fa-trash"></i> Remove</button>
                                </div>
                                <div class="form-group">
                                    <label for="question-text-4" class="form-label">Question Text <span class="required">*</span></label>
                                    <input type="text" id="question-text-4" name="question_text_4" class="form-input">
                                </div>
                                <div class="question-settings">
                                    <div class="form-group">
                                        <label for="question-type-4" class="form-label">Question Type</label>
                                        <select id="question-type-4" name="question_type_4" class="form-select" onchange="toggleCheckboxOptions(4)">
                                            <option value="text">Text Response</option>
                                            <!-- <option value="multiple-choice">Multiple Choice</option> -->
                                            <option value="checkbox">Checkbox with Options</option>
                                            <option value="rating">Rating Scale (1-5)</option>
                                        </select>
                                    </div>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="required-4" name="required_4" class="form-checkbox">
                                        <label for="required-4" class="checkbox-label">Required</label>
                                    </div>
                                </div>
                                <div id="checkbox-options-4" class="checkbox-options" style="display: none;">
                                    <label class="form-label">Checkbox Options (one per line)</label>
                                    <textarea name="checkbox_options_4" class="form-textarea" rows="4" placeholder="Option 1&#10;Option 2&#10;Option 3&#10;Option 4"></textarea>
                                </div>
                            </div>

                            <div class="question-block" id="question-5" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">Question 5</span>
                                    <button type="button" class="remove-btn" onclick="removeQuestion(5)"><i class="fas fa-trash"></i> Remove</button>
                                </div>
                                <div class="form-group">
                                    <label for="question-text-5" class="form-label">Question Text <span class="required">*</span></label>
                                    <input type="text" id="question-text-5" name="question_text_5" class="form-input">
                                </div>
                                <div class="question-settings">
                                    <div class="form-group">
                                        <label for="question-type-5" class="form-label">Question Type</label>
                                        <select id="question-type-5" name="question_type_5" class="form-select" onchange="toggleCheckboxOptions(5)">
                                            <option value="text">Text Response</option>
                                            <!-- <option value="multiple-choice">Multiple Choice</option> -->
                                            <option value="checkbox">Checkbox with Options</option>
                                            <option value="rating">Rating Scale (1-5)</option>
                                        </select>
                                    </div>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="required-5" name="required_5" class="form-checkbox">
                                        <label for="required-5" class="checkbox-label">Required</label>
                                    </div>
                                </div>
                                <div id="checkbox-options-5" class="checkbox-options" style="display: none;">
                                    <label class="form-label">Checkbox Options (one per line)</label>
                                    <textarea name="checkbox_options_5" class="form-textarea" rows="4" placeholder="Option 1&#10;Option 2&#10;Option 3&#10;Option 4"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Add Question Button -->
                        <button type="button" id="add-question-btn" class="add-question-btn" onclick="addQuestion()">
                            <i class="fas fa-plus"></i> Add Question
                        </button>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <a href="{{ url_for('home') }}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Cancel</a>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Create Survey</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 Survey System - GROUP6 SURVEY</p>
        </div>
    </footer>

    <!-- Simple Scripts -->
    <script src="{{ url_for('static', filename='index.js') }}"></script>
    <script>
        let questionCount = 1;
        
        function addQuestion() {
            if (questionCount < 5) {
                questionCount++;
                document.getElementById('question-' + questionCount).style.display = 'block';
                document.getElementById('question-text-' + questionCount).required = true;
                
                if (questionCount >= 5) {
                    document.getElementById('add-question-btn').style.display = 'none';
                }
            }
        }
        
        function removeQuestion(num) {
            document.getElementById('question-' + num).style.display = 'none';
            document.getElementById('question-text-' + num).required = false;
            document.getElementById('question-text-' + num).value = '';
            document.getElementById('add-question-btn').style.display = 'block';
            
            // Recount visible questions
            questionCount = 0;
            for (let i = 1; i <= 5; i++) {
                if (document.getElementById('question-' + i).style.display !== 'none') {
                    questionCount = i;
                }
            }
        }
        
        function toggleCheckboxOptions(num) {
            const select = document.getElementById('question-type-' + num);
            const optionsDiv = document.getElementById('checkbox-options-' + num);
            
            if (select.value === 'checkbox') {
                optionsDiv.style.display = 'block';
            } else {
                optionsDiv.style.display = 'none';
            }
        }
    </script>
</body>
</html>